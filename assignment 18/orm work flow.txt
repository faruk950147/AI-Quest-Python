Django ORM ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

ржкрзБрж░рзЛ flow (ржЙржкрж░рзЗ ржерзЗржХрзЗ ржирж┐ржЪрзЗ)
1я╕П Application (Python)

ржПржЯрж╛ рж╣рж▓рзЛ рждрзЛржорж╛рж░ Django ржХрзЛржб
ржпрзЗржоржи:

User.objects.all()


рждрзБржорж┐ ржПржЦрж╛ржирзЗ Python рж▓рж┐ржЦржЫрзЛ
ржХрзЛржирзЛ SQL рж▓рж┐ржЦржЫрзЛ ржирж╛

2я╕П ORM (Python тЖТ SQL)

ORM = Object Relational Mapper

ORM рждрзЛржорж╛рж░ Python ржХрзЛржбржХрзЗ SQL-ржП convert ржХрж░рзЗ

ржЙржжрж╛рж╣рж░ржг:

User.objects.all()


ORM ржПржЯрж╛ржХрзЗ ржнрзЗрждрж░рзЗ ржнрзЗрждрж░рзЗ ржмрж╛ржирж╛рзЯ:

SELECT * FROM user;


рждрзБржорж┐ SQL рж▓рзЗржЦрзЛ ржирж╛, ORM рж▓рзЗржЦрзЗ

3я╕П Adapter / Driver

ржПржЯрж╛ рж╣рж▓рзЛ bridge (ржорж╛ржЭржЦрж╛ржирзЗрж░ ржжрж╛рж▓рж╛рж▓ )

ORM ржпрзЗ SQL ржмрж╛ржирж╛рж▓рзЛ
рж╕рзЗржЯрж╛ржХрзЗ database ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржПржоржиржнрж╛ржмрзЗ ржкрж╛ржарж╛рзЯ

ржЙржжрж╛рж╣рж░ржг:

MySQL тЖТ mysqlclient

PostgreSQL тЖТ psycopg2

SQLite тЖТ built-in driver

Django рж╕рж░рж╛рж╕рж░рж┐ DB-рждрзЗ ржХржерж╛ ржмрж▓рзЗ ржирж╛
Driver ржПрж░ ржорж╛ржзрзНржпржорзЗ ржмрж▓рзЗ

4я╕П Database

ржПржЯрж╛ржЗ ржЖрж╕рж▓ ржЬрж╛рзЯржЧрж╛ ржпрзЗржЦрж╛ржирзЗ ржбрж╛ржЯрж╛ ржерж╛ржХрзЗ
ржпрзЗржоржи:

MySQL

PostgreSQL

SQLite

ржПржЦрж╛ржирзЗ SQL query execute рж╣рзЯ
Result ржЖржмрж╛рж░ ржЙржкрж░рзЗрж░ ржжрж┐ржХрзЗ ржлрж┐рж░рзЗ ржпрж╛рзЯ

ржПржЦржи ржЙрж▓рзНржЯрзЛ ржкржерзЗ ржмрзБржЭрж┐ (Database тЖТ Python)

Database result ржжрзЗрзЯ

Driver рж╕рзЗржЯрж╛ рждрзЛрж▓рзЗ

ORM result ржХрзЗ Python object ржмрж╛ржирж╛рзЯ

Application (рждрзЛржорж╛рж░ ржХрзЛржб) рж╕рзЗржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ

рж╕рж╣ржЬ analogy (ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг)

ржзрж░рзЛ  Restaurant:

Application тЖТ рждрзБржорж┐ (ржЕрж░рзНржбрж╛рж░ ржжрж┐ржЪрзНржЫрзЛ)

ORM тЖТ ржУрзЯрзЗржЯрж╛рж░ (рждрзЛржорж╛рж░ ржХржерж╛ kitchen-ржПрж░ ржнрж╛рж╖рж╛рзЯ ржмрж▓рзЗ)

Driver тЖТ Kitchen gate

Database тЖТ Kitchen (ржЦрж╛ржмрж╛рж░ ржмрж╛ржирж╛рзЯ)

рждрзБржорж┐ рж╢рзБржзрзБ ржмрж▓рзЛ:

тАЬржПржХржЯрж╛ burger ржжрж╛ржУтАЭ

ржХрж┐ржирзНрждрзБ kitchen-ржПрж░ ржнрж┐рждрж░рзЗ ржХржд ржХрж╛ржЬ рж╣ржЪрзНржЫрзЗ, рждрзБржорж┐ ржЬрж╛ржирзЛ ржирж╛ ЁЯШД
ржарж┐ржХ рждрзЗржоржиржЗ Django ORM

ржПржХ рж▓рж╛ржЗржирзЗ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк

рждрзБржорж┐ Python рж▓рзЗржЦрзЛ тЖТ ORM SQL ржмрж╛ржирж╛рзЯ тЖТ Driver DB-рждрзЗ ржкрж╛ржарж╛рзЯ тЖТ DB result ржжрзЗрзЯ тЖТ ORM Python object ржмрж╛ржирж╛рзЯ